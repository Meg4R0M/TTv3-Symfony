{% extends "::base.html.twig" %}

{% block infobar %}
    {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
        {{ render(controller('UsersBundle:Infos:infobar')) }}
    {% endif %}
{% endblock %}

{% block breadcrumbs %}
    {{ render(controller('UsersBundle:Infos:breadcrumbs', {'page': { 'name': 'membercp', 'address': 'users_membercp'}, 'section': {'name': 'Password', 'address': 'users_membercp_password'} })) }}
{% endblock %}

{% block content %}
    {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}

        {% if flashmessage is defined %}
            <div class="done" id="show_done">
                <b>Your account is modified</b><br />
                {{ flashmessage }}
            </div>
            <br />
        {% endif %}

        <form id="membercp_form" action="">
            <input type="hidden" name="action" value="password" id="action" />

            <div class="tableHeader">
                <div class="row">
                    <div class="cell first">Member CP - Password</div>
                </div>
            </div>

            <div class="table">

                <div class="row">
                    <div class="cell first"><label for="membercp_your_existing_password">Your Existing Password</label></div>
                    <div class="cell second">
                        <input type="password" name="membercp_your_existing_password" id="membercp_your_existing_password" class="s" accesskey="e" value="" title="For security reasons, you must verify your existing password before you may set a new password." />
                    </div>
                </div>

                <div class="row">
                    <div class="cell first"><label for="membercp_new_password">New Password</label></div>
                    <div class="cell second">
                        <div class="passwordStrength">
                            <div class="score"><span><b></b></span></div>
                            <input type="password" name="membercp_new_password" id="membercp_new_password" class="s" accesskey="n" value="" title="Try to make it hard to guess. Must be at least 5 characters." />
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="cell first"><label for="membercp_confirm_new_password">Confirm New Password</label></div>
                    <div class="cell second">
                        <input type="password" name="membercp_confirm_new_password" id="membercp_confirm_new_password" class="s" accesskey="c" value="" title="Enter your Password again." />
                    </div>
                </div>

                <div class="row">
                    <div class="cell first"></div>
                    <div class="cell second">
                        <input type="submit" value="Save" class="submit" />
                        <input type="reset" value="Clear" class="submit" />
                    </div>
                </div>

            </div>
        </form>
    {% endif %}
{% endblock %}

{% block rightblocks %}
    {{ render(controller('UsersBundle:UsersBlock:membercpmenu', {'url': 'membercppassword'})) }}
{% endblock %}